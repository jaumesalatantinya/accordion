{"version":3,"sources":["webpack:///webpack/bootstrap 7b494809e8ba0cf98979","webpack:///./app/js/main.js","webpack:///./app/js/Accordion.js"],"names":[],"mappings":"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","file":"main-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7b494809e8ba0cf98979\n **/","import Accordion from './Accordion';\n\nwindow.onload = () => {\n    const accordion1 = new Accordion('#a1', 3);\n    accordion1.init();\n    accordion1.loadAjaxContent('data/users.json');\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/main.js\n **/","class Accordion {\n\n    constructor(target, defaultPanel = 0) {\n\n        this.panels = [];\n        this.error = false;\n        this.defaultPanel = defaultPanel;\n        if (target) { \n            this.target = target;        \n        }\n        else {\n            this.dispatchError('No id target passed as param');\n        }\n    }\n\n    init () {\n\n        if (!this.error) { \n            this.validateHtml();\n            this.getPanels();\n            this.addClickEventToPanelHeaders();\n            this.closeAllPanels();\n            if (this.defaultPanel > this.panels.length){\n                this.defaultPanel = 0;\n            }\n            this.openPanel(this.panels[this.defaultPanel]);\n        }\n    }\n\n    validateHtml () {\n\n        if (!this.error) {\n            if (!document.querySelector(this.target)) {\n                this.dispatchError('No HTML elements for id target: ' + this.target);\n                return;\n            }\n            if (!document.querySelector(this.target).classList.contains('Accordion')) {\n                this.dispatchError('Target doesn\\'t have Accordion class');\n                return;\n            }\n            let headers = document.querySelectorAll(this.target + ' .Accordion-header');\n            let contents = document.querySelectorAll(this.target + ' .Accordion-content');\n            if (headers.length == 0 || contents.length == 0 || headers.length != contents.length) {\n                this.dispatchError('Accordion is empty or dt and dd elements doesn\\'t match');\n            }\n        }\n    }\n\n    getPanels () {\n\n        if (!this.error) {\n            let headers = document.querySelectorAll(this.target + ' .Accordion-header');\n            let contents = document.querySelectorAll(this.target + ' .Accordion-content');\n            let numPanels = headers.length;\n            for (let i = 0; i < numPanels; i++) {\n                this.panels[i] = {\n                    header: headers[i], \n                    content: contents[i]\n                }\n            }\n        }\n    }\n\n    addClickEventToPanelHeaders () {\n\n        if (!this.error) {\n            this.panels.forEach((panel) => {\n                panel.header.addEventListener('click', (e) => {\n                    this.closeAllPanels();\n                    this.openPanel(panel);\n                });\n            });\n        }\n    }\n\n    closeAllPanels () {\n\n        if (!this.error) {\n            for (let i = 0; i < this.panels.length; i++) {\n                this.panels[i].content.classList.remove('is-open');\n                this.panels[i].content.classList.add('is-close');\n            }\n        }\n    }\n\n    openPanel (panel) {\n\n        if (!this.error) {\n            panel.content.classList.remove('is-close');\n            panel.content.classList.add('is-open');\n        }\n    }\n\n    loadAjaxContent (url) {\n\n        if (!this.error) {\n            if (url) {\n                return fetch(url)\n                    .then((response) => response.json())\n                    .then((users) => {\n                        let html = '';\n                        users.forEach((user) => {\n                            html += `<p>${user.name} - ${user.email}</p>`;\n                        });\n                        this.panels[this.panels.length-1].content.innerHTML = html;\n                    })\n                    .catch(e => this.dispatchError(e));\n            }\n            else {\n                return Promise.reject();\n                this.dispatchError('No url passed as param');\n            }\n        }\n    }\n\n    dispatchError (e) {\n        if (e){\n            console.log (e);\n            this.error = true;\n            if (document.querySelector(this.target)){\n                document.querySelector(this.target).innerHTML = `<div class=\"u-error\">${e}</div>`;\n            }\n        }\n    }\n}\n\nexport default Accordion;\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/js/Accordion.js\n **/"],"sourceRoot":""}